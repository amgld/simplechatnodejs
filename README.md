# simplechat-nodejs
### Простой чат, написанный на Nodejs, с поддержкой формул TeX

v. 1.1.0 20.02.2019

Простой чат, написаннный на nodejs; все сообщения чата хранятся в оперативной памяти, базы данных или файлы для хранения сообщений не используются.

Для начала работы отредактируйте текстовый файл `sam.dat` с паролями и именами пользователей чата (ни пароли, ни имена не должны содержать символа ^, используемого в качестве разделителя). Также отредактируйте строки 15 и 16 файла `chat.js`, указав номер порта, на котором будет работать чат, и количество сообщений, хранящихся в оперативной памяти и показываемых на страничке чата. Оба этих файла должны быть в кодировке utf-8. В строке 17 этого файла задайте имя сервера, которое будет отдаваться на запрос клиента (чтобы сбить с толку хакеров).

Запустите чат командой `nohup node <путь>/chat.js &` (либо используйте какую-либо программу-диспетчер типа `forever`).

Для входа в чат используется ссылка `http://<domen>:<port>?<пароль>`.

Работает отправка сообщений по `Ctrl-Enter`. Для очистки окна чата необходимо отправить сообщение ^^^ (три символа крышки). Цвет фамилии и имени пользователя чата генерируется автоматически (для разных пользователей — разный цвет).

Кликанием на знаке вопроса в левой части заголовочной строки чата вызывается (в отдельном окне) краткая справка, содержащая синтаксис для вставки в сообщения формул (в нотации TeX) и гиперссылок (префикс http:// подставляется автоматически). Кроме того, в окне чата поддерживаются смайлики (знаки типа :) автоматически заменяются на соответствующие html-примитивы).
